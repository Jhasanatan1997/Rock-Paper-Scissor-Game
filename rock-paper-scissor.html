<!DOCTYPE html>

<head>
    <title >Rock paper Scissor</title>
    <link rel="stylesheet" href="/rock-paper-scissor.css">
</head>

<body>
    

    <h1>Rock Paper Scissor</h1>


    <button onclick="
    playgame('rock');" class="button-moves"
    ><img class="emoji" src="/images/rock.png"></button>

    <button onclick="
    playgame('paper');" class="button-moves"
    ><img class="emoji" src="/images/paper.png"></button>


    <button onclick="
    playgame('scissor');" class="button-moves"
    ><img class="emoji" src="/images/scissor.png"></button>

    <div ><button class="automatic" onclick="
    autoPlay();
    ">AutoPlay</button>
    </div>
<p class="js-score"></p>
<p class="js-moves"></p>
<p class="js-result"></p>

    <script>

        const score={
            Wins: 0,
            Losses:0,
            Tie:0
        };
        document.querySelector('.js-score').innerHTML = `Wins: ${score.Wins} Losses:${score.Losses} Tie: ${score.Tie}`;
        document.querySelector('.js-moves').innerHTML = `You chose <img class="scoreEmoji" src="/images/${playerMove}.png"> - Computer chose ${computerMove}`;
        document.querySelector('.js-result').innerHTML = result;
        
        function autoPlay(){
            setInterval(function(){
                let playerMove = pickComputerMove();
                playgame(playerMove);
            }, 1000)
        }
        
        function playgame(playerMove){
            const computerMove = pickComputerMove();
            let result = '';

            if(playerMove==='rock'){
                if(computerMove==='rock'){
                    result = 'Tie.';
                }else if(computerMove==='paper'){
                result = 'You Lose.';
                }else if(computerMove==='scissor'){
                result = 'You Win.';
                }
            }else if(playerMove==='scissor'){
                if(computerMove==='rock'){
                    result = 'You Lose.';
                }else if(computerMove==='paper'){
                    result = 'You Win.';
                }else if(computerMove==='scissor') {
                    result = 'Tie.';
                }
            }else if(playerMove==='paper'){
                if(computerMove==='rock'){
                    result = 'You Win.';
                }else if(computerMove==='paper'){
                    result = 'Tie.';
                }else if(computerMove==='scissor'){
                    result = 'You Lose.';
                }
            }

            if(result==='You Win.'){
                score.Wins+=1;
            }else if(result==='You Lose.'){
                score.Losses+=1;
            }else if(result==='Tie.'){
                score.Tie+=1;
            }

            document.querySelector('.js-score').innerHTML = `Wins:${score.Wins} Losses:${score.Losses} Tie: ${score.Tie}`;
            document.querySelector('.js-moves').innerHTML = `You chose <img class="scoreEmoji" src="/images/${playerMove}.png"> - Computer chose <img class="scoreEmoji" src="/images/${computerMove}.png">`;          
            document.querySelector('.js-result').innerHTML = result;
        
        }
        
        function pickComputerMove() {
            const randomNumber = Math.random();
            if (randomNumber > 0 && randomNumber < 1 / 3) {
                computerMove = 'rock';
            } else if (randomNumber >= 1 / 3 && randomNumber < 2 / 3) {
                computerMove = 'paper';
            } else if (randomNumber >= 2 / 3 && randomNumber < 1) {
                computerMove = 'scissor';
            }
            return computerMove;
        }

    </script>

</body>

</html>